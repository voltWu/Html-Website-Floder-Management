<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="keywords" content="chengdu,siliuba,net">
<meta name="description"
	content="description contents">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="img/titleIcon.ico" rel="SHORTCUT ICON" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MAIN PAGE</title>
<!-- css start -->
<!-- css model start -->
<link rel="stylesheet" href="css/combined.min.css">
<link rel="stylesheet" href="css/layoutit.css">
<!-- css model end -->
<!-- css custom start -->
<link rel="stylesheet" href="css/admin.css">
<!-- css custom end -->
<!-- css end -->
<!-- js start -->
<!-- js model start -->
<script type="text/javascript" src="js/jquery-2.0.0.min.js"></script>
<!--[if lt IE 9]>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<![endif]-->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.js"></script>
<script type="text/javascript" src="js/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript" src="js/jquery.htmlClean.js"></script>
<script type="text/javascript" src="ckeditor/ckeditor.js"></script>
<script type="text/javascript" src="ckeditor/config.js"></script>
<script type="text/javascript" src="js/scripts.js"></script>

<!-- js model end -->
<!-- js end -->

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<div class="span6">
						<h3>BACKGROUND FOLDER MANAGEMENT</h3>
					</div>
					<div class="span6">
						<h4 style="text-align: right;">LOG OUT</h4>
					</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<div class="span12">
						<div class="navbar">
							<div class="navbar-inner">
								<div class="container-fluid">
									<a data-target=".navbar-responsive-collapse"
										data-toggle="collapse" class="btn btn-navbar"><span
										class="icon-bar"></span><span class="icon-bar"></span><span
										class="icon-bar"></span></a>
									<div class="nav-collapse collapse navbar-responsive-collapse">
										<ul class="nav">
													<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_1<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
												</ul></li>
														<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_2<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
												</ul></li>
														<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_3<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li class="divider"></li>
													<li><a href="#">FILE_3</a></li>
													<li><a href="#">FILE_4</a></li>
												</ul></li>
											<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_4<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
													<li><a href="#">FILE_4</a></li>
													<li><a href="#">FILE_5</a></li>
												</ul></li>										<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_5<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
													<li><a href="#">FILE_4</a></li>
													<li><a href="#">FILE_5</a></li>
												</ul></li>
										</ul>
										<ul class="nav pull-right">
											<li class="divider-vertical"></li>
											<li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_6<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
												</ul></li><li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_7<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
												</ul></li><li class="dropdown"><a data-toggle="dropdown"
												class="dropdown-toggle" href="#">MENU_8<strong
													class="caret"></strong></a>
												<ul class="dropdown-menu">
													<li><a href="#">FILE_1</a></li>
													<li><a href="#">FILE_2</a></li>
													<li><a href="#">FILE_3</a></li>
												</ul></li>
										</ul>
									</div>

								</div>
							</div>

						</div>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">
						<div class="tabbable" id="tabs-614677">
							<ul class="nav nav-tabs">
								<li class="active"  menutext="MENU_1" title="MENU_1/FILE_1"><a href="#panel-927039"	data-toggle="tab">FILE_1<span class="nav-close" onclick="panelClose(this)">X</span></a></li>
								<li menutext="MENU_1" title="MENU_1/FILE_2"><a href="#panel-514619" data-toggle="tab">FILE_2<span class="nav-close" onclick="panelClose(this)">X</span></a></li>
								<li menutext="MENU_2" title="MENU_2/FILE_1"><a href="#panel-514620" data-toggle="tab">FILE_1<span class="nav-close" onclick="panelClose(this)">X</span></a></li>
								<li menutext="MENU_2" title="MENU_2/FILE_2"><a href="#panel-514621" data-toggle="tab">FILE_2<span class="nav-close" onclick="panelClose(this)">X</span></a></li>
								<li menutext="MENU_2" title="MENU_2/FILE_3"><a href="#panel-514622" data-toggle="tab">FILE_3<span class="nav-close" onclick="panelClose(this)">X</span></a></li>
								
							</ul>
							
							<div class="tab-content">
								<div class="tab-pane active" id="panel-927039">
									<p>0th contents.</p>
								</div>
								<div class="tab-pane" id="panel-514619">
									<p>1th contents.</p>
								</div>
								<div class="tab-pane" id="panel-514620">
									<p>2th contents.</p>
								</div>
								<div class="tab-pane" id="panel-514621">
									<p>3th contents.</p>
								</div>
								<div class="tab-pane" id="panel-514622">
									<p>4th contents.</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<!-- js custom start -->
<!-- js custom end -->
<script type="text/javascript" src="js/admin.js"></script>
   <script type="text/javascript">
$(function(){
		var addFunc = function(){
			var alink = $("ul.nav > li.dropdown > ul.dropdown-menu > li > a");
			for(var index=0;index<alink.length; index++){
				var link = $(alink.get(index));
				link.bind("click",function(obj){
					menuItemClick(obj);
				});
			}
		}
		addFunc();
        $(".nav-collapse ul .dropdown-menu li").bind("click", function () {
            //首先获得点击元素的内容
            var label = $(this).text();
            //获得导航栏的Jquery对象
            var nva = $(".row-fluid #tabs-614677 .nav");
            //添加具体的面板框
            var panel = $(".row-fluid #tabs-614677 .tab-content");
            //清除所有的active属性
            nva.children("li").each(function () {
                $(this).removeClass("active");
            });
            panel.children(".tab-pane").each(function () {
                $(this).removeClass("active");
            });
            //依次循环遍历，判断该导航栏项是否已经存在
            var lis = nva.children("li");
            var menutext = $(this).parent().parent().children().first().text();
            for (var i = 0; i < lis.length; i++) {
                //获得具体的li
                var li = $(lis.get(i));
                //判断是否是这个字符
                var content = li.html();
                if (((content.indexOf(label)) != -1) &&(menutext == li.attr("menutext"))) {
                    //已经存在，将该项置为活动项目
                    var nowli = li;
                    var nowpanel = $(panel.children(".tab-pane").get(i));
                    nowli.addClass("active");
                    nowpanel.addClass("active");
                    return;//直接返回
                }
            }
            var panelid = "";
            if (lis.length == 0) {
            	panelid = "927039"
            } else {
                //获得该导航栏的最后一行数据的情况
                var last = nva.children().last();
                //解析出连接信息
                var panelhref = new Number(last.find("a").attr("href").substring(7));
                panelid = panelhref + 1;//加1
            }
            var appendtitle = "<li class=\"active\"  menutext='"+menutext+"' title='"+menutext+"/"+label+"'><a href='#panel-"+panelid+"' data-toggle='tab'>" + label + "<span class='nav-close' onclick='panelClose(this)'>X</span></a></li>";
            nva.append(appendtitle);
            var content = "<div class=\"tab-pane active\" id=\"panel-"+panelid+"\"><p>Loading...</p></div>";
            panel.append(content);
        });
});
        function panelClose(p) {
            var $panel = $(p);
            var $li = $panel.parent().parent();
            var $next = $li.parent();
            //得到tab-content的所有直接子元素
            var index = $li.index();
            //判断关闭的窗口是否是活动窗口
            var isActive = false;
            if (/active/g.test($li.attr("class"))) {
                var $tct = $(".tab-content");
                var $tct_tp = $(".tab-content>.tab-pane:eq(" + index + ")");
                $li.remove();
                $tct_tp.remove();
                //设置下一个窗口为活动窗口
                if (index > $next.children().length-1) {
                    index = $next.children().length - 1;
                }
                $next.children().eq(index).addClass("active");
                $(".tab-content>.tab-pane:eq(" + index + ")").addClass("active");
            } else {
                var $tct = $(".tab-content");
                var $tct_tp = $(".tab-content>.tab-pane:eq(" + index + ")");
                $li.remove();
                $tct_tp.remove();
            }
        }
		//获得活动的面板。
		//参数方法是一个回调函数，该回调函数用于在获取到活动面板后的回调函数。
		//该方法使用了setTimeout，使得100毫秒后执行。
		//使用setTimeout的目的，是为了在等待活动面板创建好后再调用这个方法。
		function GetAcivePanel(callback) {
		    setTimeout(function () {
		        var panel = $(".row-fluid #tabs-614677 .tab-content");
		        var pchildren = panel.children(".tab-pane");
		        for (var i = 0; i < pchildren.length ; i++) {
		            var pc = $(pchildren[i]);
		            var pcid = pc.attr("class");
		            if (pcid.indexOf("active") != -1) {
		                callback(pc);
		            }
		        }
		    }, 100);
		}
</script>
</html>
